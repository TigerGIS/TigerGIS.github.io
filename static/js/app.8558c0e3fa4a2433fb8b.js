webpackJsonp([11],{A9bq:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("7+uW"),i=e("Dd8w"),o=e.n(i),s=e("Zrlr"),r=e.n(s),c=e("wxAW"),u=e.n(c),h=function(){function t(){r()(this,t),this.render()}return u()(t,[{key:"render",value:function(){var t="orientationchange"in window?"orientationchange":"resize",n=10;window.addEventListener(t,function t(){var e=document.documentElement,a=e.clientWidth;return e.clientWidth>720?a=720:e.clientWidth<320&&(a=320),e.style.fontSize=a/n+"px",t}()),document.addEventListener("touchstart",function(t){t.touches.length>1&&t.preventDefault()});var e=0;document.addEventListener("touchend",function(t){var n=(new Date).getTime();n-e<=300&&t.preventDefault(),e=n},!1)}}]),t}(),l=e("NYxO");new h;var p={name:"app",data:function(){return{transitionName:"slide-go",nowUrl:"/"}},watch:{$route:function(t,n){n.query.time?t.query.time>n.query.time?this.transitionName="slide-go":this.transitionName="slide-back":this.transitionName="slide-go",this.nowUrl=t.fullPath}},computed:o()({},Object(l.b)(["nowStatus","getShopCarLength"]),{leaveComp:function(){for(var t=!0,n=["home","classification","shoppingcart","mine"],e=0;e<n.length;e++)this.isActive(n[e])&&(t=!1);return this.isActive("shoppingcart")&&this.getShopCarLength>0&&(t=!0),t}}),methods:{open:function(t){this.$router.openPage(t)},isActive:function(t){return-1!=this.nowUrl.indexOf(t)}}},m={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"loading-bar",class:t.nowStatus},[e("span",{staticClass:"press"})]),t._v(" "),e("div",{staticClass:"app-init"},[e("transition",{attrs:{name:t.transitionName}},[e("router-view")],1)],1),t._v(" "),e("footer",{staticClass:"footer clear",class:{leave:t.leaveComp}},[e("div",{staticClass:"footer-item",class:{active:t.isActive("home")},on:{click:function(n){t.open("/home")}}},[t._m(0),t._v(" "),e("p",{staticClass:"name"},[t._v("首页")])]),t._v(" "),e("div",{staticClass:"footer-item",class:{active:t.isActive("classification")},on:{click:function(n){t.open("/classification")}}},[t._m(1),t._v(" "),e("p",{staticClass:"name"},[t._v("分类")])]),t._v(" "),e("div",{staticClass:"footer-item shop-car",class:{active:t.isActive("shoppingcart")},on:{click:function(n){t.open("/shoppingcart")}}},[t._m(2),t._v(" "),e("p",{staticClass:"name"},[t._v("购物车")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.getShopCarLength>0,expression:"getShopCarLength > 0"}],staticClass:"num",class:{full:parseInt(t.getShopCarLength)>=99}},[t._v(t._s(t.getShopCarLength>=99?"99+":t.getShopCarLength))])]),t._v(" "),e("div",{staticClass:"footer-item",class:{active:t.isActive("mine")},on:{click:function(n){t.open("/mine")}}},[t._m(3),t._v(" "),e("p",{staticClass:"name"},[t._v("我的")])])])])},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("p",{staticClass:"icon"},[n("span",{staticClass:"iconfont icon-shouye"})])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",{staticClass:"icon"},[n("span",{staticClass:"iconfont icon-fenlei"})])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",{staticClass:"icon"},[n("span",{staticClass:"iconfont icon-gouwuche"})])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",{staticClass:"icon"},[n("span",{staticClass:"iconfont icon-smile"})])}]};var f=e("VU/8")(p,m,!1,function(t){e("A9bq")},null,null).exports,v=e("/ocq"),d=e("M4fF"),g=e.n(d);v.a.prototype.openPage=function(t,n){this.push({path:t,query:g.a.assignIn({time:(new Date).getTime()},n||{})})},a.a.use(v.a);var C=new v.a({routes:[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:function(t){e.e(3).then(function(){var n=[e("KR8f")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/classification",name:"classification",component:function(t){Promise.all([e.e(0),e.e(5)]).then(function(){var n=[e("t5we")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/shoppingcart",name:"shoppingcart",component:function(t){Promise.all([e.e(0),e.e(4)]).then(function(){var n=[e("vg42")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/mine",name:"mine",component:function(t){e.e(9).then(function(){var n=[e("RcQE")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/search",name:"search",component:function(t){e.e(2).then(function(){var n=[e("Rv23")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/detail/:id",name:"detail",component:function(t){e.e(1).then(function(){var n=[e("QJR9")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/pay",name:"pay",component:function(t){Promise.all([e.e(0),e.e(6)]).then(function(){var n=[e("UCxz")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/error/404",name:"error-404",component:function(t){e.e(7).then(function(){var n=[e("34W9")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/error/110",name:"error-110",component:function(t){e.e(8).then(function(){var n=[e("GQFu")];t.apply(null,n)}.bind(this)).catch(e.oe)}}]}),w=new(e("bjBg").a);a.a.use(l.a);var y={state:{length:w.length()},mutations:{setShopCarLength:function(t,n){t.length=n}},getters:{getShopCarLength:function(t){return t.length}}},S=new l.a.Store({modules:{AppLoading:{state:{nowStatus:"loading"},mutations:{nowStatus:function(t,n){t.nowStatus=n}},getters:{nowStatus:function(t){return t.nowStatus}}},ShopCar:y}}),_=e("cTzj"),D=e.n(_);a.a.use(D.a),a.a.use(D.a,{preLoad:1.3,error:"",loading:"",attempt:1}),console.log("❤❤❤ 本程序由 高攀 编写 ❤❤❤");C.beforeEach(function(t,n,e){S.commit("nowStatus","loading"),e()}),C.afterEach(function(t,n,e){S.commit("nowStatus","end"),setTimeout(function(){S.commit("nowStatus","hide")},900),setTimeout(function(){S.commit("nowStatus","normal")},1e3)}),a.a.config.productionTip=!1,document.addEventListener("touchstart",function(){},!0),new a.a({el:"#app",router:C,store:S,template:"<App/>",components:{App:f}})},bjBg:function(t,n,e){"use strict";var a=e("mvHQ"),i=e.n(a),o=e("Zrlr"),s=e.n(o),r=e("wxAW"),c=e.n(r),u=e("pFYg"),h=e.n(u),l=new(function(){function t(){s()(this,t)}return c()(t,[{key:"setItem",value:function(t,n){"object"==(void 0===n?"undefined":h()(n))&&(n=i()(n)),window.localStorage&&window.localStorage.setItem(t,n)}},{key:"removeItem",value:function(t){window.localStorage&&window.localStorage.removeItem(t)}},{key:"getItem",value:function(t){var n="";return window.localStorage&&(n=window.localStorage.getItem(t)),{toString:function(){return n},toJson:function(){var t={};try{t=JSON.parse(n)}catch(n){t=null}return t},toNumber:function(){return parseFloat(n)}}}},{key:"getItemOnce",value:function(t){var n=this.getItem(t);return this.removeItem(t),{toString:function(){return n},toJson:function(){var t={};try{t=JSON.parse(n)}catch(n){t=null}return t},toNumber:function(){return parseFloat(n)}}}}]),t}()),p=function(){function t(n){s()(this,t);var e=l.getItem("shop-car").toJson();e||l.setItem("shop-car",i()(e={})),this.$store=n,this.shopCarDB=e}return c()(t,[{key:"upData",value:function(){l.setItem("shop-car",i()(this.shopCarDB)),this.$store.commit("setShopCarLength",this.length())}},{key:"add",value:function(t){var n=t.id;if(n){if(this.shopCarDB[n])this.shopCarDB[n].length+=1;else{for(var e={},a=["title","money","id"],i=0;i<a.length;i++){var o=a[i];e[o]=t[o]}e.img=t.banner[0]?t.banner[0].src:"",e.link="/detail/"+t.id,e.length=1,this.shopCarDB[n]=e}this.upData()}}},{key:"minus",value:function(t){var n=t.id;n&&this.shopCarDB[n]&&(this.shopCarDB[n].length-=1,this.shopCarDB[n].length<=0&&this.remove(n),this.upData())}},{key:"remove",value:function(t){this.shopCarDB[t].length=0,delete this.shopCarDB[t],this.upData()}},{key:"removeAll",value:function(){this.shopCarDB={},this.upData()}},{key:"get",value:function(t){return this.shopCarDB[t]}},{key:"getAll",value:function(){return this.shopCarDB}},{key:"set",value:function(t,n,e){this.shopCarDB[t]&&(this.shopCarDB[t][n]=e,this.upData())}},{key:"setLength",value:function(t,n){this.shopCarDB[t]&&(this.shopCarDB[t].length=n),this.upData()}},{key:"length",value:function(){var t=0;for(var n in this.shopCarDB)t+=this.shopCarDB[n].length;return t}}]),t}();n.a=p}},["NHnr"]);